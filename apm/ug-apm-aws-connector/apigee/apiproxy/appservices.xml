<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<APIProxy revision="7" name="appservices">
    <ConfigurationVersion majorVersion="4" minorVersion="0"/>
    <CreatedAt>1456932370902</CreatedAt>
    <CreatedBy>prabhat@apigee.com</CreatedBy>
    <Description>Proxy for Usergrid and Mobile APM i.e mAX with AWS</Description>
    <DisplayName>ug-apm-proxy</DisplayName>
    <LastModifiedAt>145797374823</LastModifiedAt>
    <LastModifiedBy>prabhat@apigee.com</LastModifiedBy>
    <Policies>
        <Policy>AppRateLimiting</Policy>
        <Policy>AppSvcPublicApp</Policy>
        <Policy>AssignMessage_VerifyHeaderToken</Policy>
        <Policy>AssignMessage_VerifyOrg</Policy>
        <Policy>AssignMessage_VerifyQueryToken</Policy>
        <Policy>AssignPayloadForS3</Policy>
        <Policy>AssignPayloadForSQS</Policy>
        <Policy>AssignPayload_S3Error</Policy>
        <Policy>AssignPayload_S3Response</Policy>
        <Policy>AssignPayload_SQSError</Policy>
        <Policy>AssignPayload_SQSResponse</Policy>
        <Policy>CORS</Policy>
        <Policy>CORSPreflight</Policy>
        <Policy>CacheMobileConfig2</Policy>
        <Policy>CacheOrg</Policy>
        <Policy>CheckOrgAgainstList</Policy>
        <Policy>EnforceTomcatConnectionLimit</Policy>
        <Policy>ExtractError</Policy>
        <Policy>ExtractError_TokenErrors</Policy>
        <Policy>ExtractToken_UI</Policy>
        <Policy>ExtractVars_ApmMetrics</Policy>
        <Policy>ExtractVars_CrashReports</Policy>
        <Policy>ExtractVars_HelpEmail</Policy>
        <Policy>ExtractVars_UICalls</Policy>
        <Policy>ExtractVars_apigeeMobileConfig</Policy>
        <Policy>FetchAuthOrgsFromMap</Policy>
        <Policy>FetchConnectionLimitOrgsFromMap</Policy>
        <Policy>GetResponseTime</Policy>       
        <Policy>HandleAuthOrgs</Policy>
        <Policy>MethodOverrideIE9</Policy>
        <Policy>PythonDisablePathSuffix</Policy>
        <Policy>RaiseFault</Policy>       
        <Policy>RaiseFault_MissingAccessToken</Policy>
        <Policy>RemoveCORSHeaders</Policy>             
        <Policy>StripAuthHeader</Policy>
        <Policy>URLEncodePayload</Policy>
        <Policy>VerifyOrg</Policy>
        <Policy>VerifyOrgFromCache</Policy>
        <Policy>VerifyToken</Policy>
        <Policy>collect-org-and-app-ids</Policy>
        <Policy>extract-org-and-app-ids</Policy>               
    </Policies>
    <ProxyEndpoints>
        <ProxyEndpoint>default</ProxyEndpoint>
    </ProxyEndpoints>
    <Resources>
        <Resource>py://computeResponseTime.py</Resource>
        <Resource>py://setAppSvcPublicApp.py</Resource>
        <Resource>py://setCopyPathSuffix.py</Resource>        
        <Resource>py://urlencodepayload.py</Resource>       
    </Resources>
    <TargetServers/>
    <TargetEndpoints>
        <TargetEndpoint>AWSS3</TargetEndpoint>
        <TargetEndpoint>AWSSQS</TargetEndpoint>
        <TargetEndpoint>MAXRestServer</TargetEndpoint>
        <TargetEndpoint>default</TargetEndpoint>
    </TargetEndpoints>
    <validate>false</validate>
</APIProxy>
