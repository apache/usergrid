

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Usergrid Data Store &mdash; Apache Usergrid 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Apache Usergrid 1.0 documentation" href="../index.html"/>
        <link rel="next" title="Data Store Best Practices" href="optimizing-access.html"/>
        <link rel="prev" title="Using the API" href="../getting-started/using-the-api.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Apache Usergrid
        

        
        </a>

        
          
          
            <div class="version">
              1.0
            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/overview.html">Documentation Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/usergrid-features.html">Usergrid Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/data-model.html">Usergrid Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/async-vs-sync.html">Async vs. sync calls</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/creating-account.html">Creating an Usergrid Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/creating-a-new-application.html">Creating a new application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/using-a-sandbox-app.html">Using a Sandbox Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/using-the-api.html">Using the API</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Storage</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">The Usergrid Data Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizing-access.html">Data Store Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="entities.html">Entities</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Queries</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../data-queries/querying-your-data.html">Querying your data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-queries/query-parameters.html">Query parameters &amp; clauses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-queries/operators-and-types.html">Query operators &amp; data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-queries/advanced-query-usage.html">Advanced query usage</a></li>
</ul>
<p class="caption"><span class="caption-text">Entity Connections</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../entity-connections/connecting-entities.html">Connecting entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entity-connections/retrieving-entities.html">Retrieving connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../entity-connections/disconnecting-entities.html">Disconnecting entities</a></li>
</ul>
<p class="caption"><span class="caption-text">Push Notifications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/overview.html">Push notifications overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/adding-push-support.html">Adding push notifications support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/getting-started.html">Getting started with push notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/tutorial.html">Tutorial: Push notifications sample app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/registering.html">Registering with a notification service</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/creating-notifiers.html">Creating notifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/managing-users-and-devices.html">Managing users and devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/creating-and-managing-notifications.html">Creating and managing notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../push-notifications/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Security &amp; Authentication</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/app-security.html">Security &amp; token authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/using-permissions.html">Using permissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/using-roles.html">Using roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/authenticating-users-and-application-clients.html">Authenticating users &amp; app clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/user-authentication-types.html">Authentication levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/changing-token-time-live-ttl.html">Changing token expiration (time-to-live)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/authenticating-api-requests.html">Authenticating API requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/revoking-tokens-logout.html">Revoking tokens (logout)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/facebook-sign.html">Facebook sign in</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-and-auth/securing-your-app.html">Security best practices</a></li>
</ul>
<p class="caption"><span class="caption-text">User Management &amp; Social Graph</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-management/user-management.html">User management &amp; social graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-management/working-user-data.html">Working with User Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-management/group.html">Working with group data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-management/activity.html">Activity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-management/user-connections.html">Social Graph Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-management/user-connections.html#creating-other-connections">Creating other connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-management/messagee-example.html">App Example - Messagee</a></li>
</ul>
<p class="caption"><span class="caption-text">Geo-location</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../geolocation/geolocation.html">Geolocating your Entities</a></li>
</ul>
<p class="caption"><span class="caption-text">Assets &amp; Files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../assets-and-files/uploading-assets.html">Uploading assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assets-and-files/retrieving-assets.html">Retrieving assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assets-and-files/folders.html">Folders</a></li>
</ul>
<p class="caption"><span class="caption-text">Counters &amp; Events</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../counters-and-events/events-and-counters.html">Counters &amp; events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../counters-and-events/creating-and-incrementing-counters.html">Creating &amp; incrementing counters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../counters-and-events/creating-and-incrementing-counters.html#decrementing-resetting-counters">Decrementing/resetting counters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../counters-and-events/creating-and-incrementing-counters.html#using-counters-hierarchically">Using counters hierarchically</a></li>
<li class="toctree-l1"><a class="reference internal" href="../counters-and-events/retrieving-counters.html">Retrieving counters</a></li>
</ul>
<p class="caption"><span class="caption-text">Organizations &amp; Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../orgs-and-apps/managing.html">Organization &amp; application management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orgs-and-apps/organization.html">Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orgs-and-apps/application.html">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../orgs-and-apps/admin-user.html">Admin user</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rest-endpoints/api-docs.html">Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest-endpoints/api-docs.html#models">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest-endpoints/api-docs.html#sub-types">Sub-Types</a></li>
</ul>
<p class="caption"><span class="caption-text">Client SDKs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sdks/tbd.html">COMING SOON...</a></li>
</ul>
<p class="caption"><span class="caption-text">Installing the Stack</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/ug1-deploy-to-tomcat.html">Usegrid 1: Deploying to Tomcat</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/ug1-launcher-quick-start.html">Usegrid 1: Launcher Quick-start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/ug2-deploy-to-tomcat.html">Usergrid 2: Deploy to Tomcat</a></li>
</ul>
<p class="caption"><span class="caption-text">More about Usergrid</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/presos-and-videos.html">Presentations &amp; Videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/contribute-code.html">How to Contribute Code &amp; Docs</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Apache Usergrid</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>The Usergrid Data Store</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/data-storage/data-store-dbms.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-usergrid-data-store">
<h1>The Usergrid Data Store<a class="headerlink" href="#the-usergrid-data-store" title="Permalink to this headline">¶</a></h1>
<p>The Usergrid data store is backed by Cassandra, an open source
distributed DBMS. Cassandra isn’t a relational database system (RDBMS),
and is sometimes placed in the category of “NoSQL” or “schema-less”
databases.</p>
<!-- workaround a Sphinx bug -->
<div class="admonition note"> <p class="first admonition-title"><p>Note</p>
</p> <p class="last"><p>Usergrid is not a relational database. Optimizing for performance on a
non-relational database like Cassandra differs a bit from relational
databases. For more information, see <a class="reference external" href="../data-storage/optimizing-access.html">Optimizing access to your Usergrid
data store</a>.</p>
</p> </div><p>Cassandra is specifically designed to support applications that need
flexibility and high scalability, particularly web and mobile
applications. Usergrid client applications write and read data formatted
as JavaScript Object Notation (JSON). (Usergrid provides SDKs through
which client apps can do much of this work in their native language. For
more information, see <a class="reference external" href="../sdks/tbd.html">Usergrid SDKs</a>.)</p>
<p>With Cassandra as the underlying DBMS, apps benefit from:</p>
<p>Fast writes to the data store. * A distributed architecture that means
no single point of failure. * Flexibility in data model design. You
aren&#8217;t constrained by a schema. * Linear scalability.</p>
<p>If you have experience with relational databases and are unfamiliar with
&#8220;NoSQL&#8221; databases, the following table might be a helpful start. It maps
the high-level concepts of an RDBMS’s data model both to Cassandra’s and
to the Usergrid, which is backed by Cassandra.</p>
<table class="usergrid-table">
<tr>
    <th></th>
    <th><p>RDBMS</p>
</th>
    <th><p>Cassandra</p>
</th>
    <th><p>Usergrid</p>
</th>
</tr>
<tr>
    <td><p>Each tuple is modeled as</p>
</td>
    <td><p>A row.</p>
</td>
    <td><p>A row.</p>
</td>
    <td><p>An entity. Written and retrieved as JSON, an entity contains values for
all of its properties in the way a row has values for columns.</p>
</td>
</tr>
<tr>
    <td><p>Each data attribute is modeled as</p>
</td>
    <td><p>A column.</p>
</td>
    <td><p>A column. Many thousands of columns are supported.</p>
</td>
    <td><p>A entity property. An entity has a default set of properties, including
the entity’s UUID. You can add many more to support your application.</p>
</td>
</tr>
<tr>
    <td><p>Each group of attributes is modeled as</p>
</td>
    <td><p>A table.</p>
</td>
    <td><p>A column family. Unlike rows in tables, rows in a column family can have
differing numbers of columns. Because you’re not using a schema to
define the model, you can update the column list for a row at any time.</p>
</td>
    <td><p>An entity collection. As with its underlying Cassandra column family, a
collection can have entities with differing numbers of properties. In
other words, just because one entity has an authorId property doesn’t
mean that other entities in its collection need to.</p>
</td>
</tr>
</table><p>The following examples from a product database provide simple
illustrations of these differences.</p>
<p>An RDBMS table has a schema-defined set of columns per row.</p>
<img alt="../_images/rdbms.png" src="../_images/rdbms.png" />
<p>A Cassandra column family includes rows that can have differing column
sets.</p>
<img alt="../_images/cassandra.png" src="../_images/cassandra.png" />
<p>In the JSON from the Usergrid application, the products are represented
as entities. Note that each entity in the entities array below has a
slightly different set of properties, like the columns in a Cassandra
column family.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&quot;action&quot;</span> <span class="p">:</span> <span class="s">&quot;get&quot;</span><span class="p">,</span>
    <span class="s">&quot;application&quot;</span> <span class="p">:</span> <span class="s">&quot;&lt;app_uuid&gt;&quot;</span><span class="p">,</span>
    <span class="s">&quot;params&quot;</span> <span class="p">:</span> <span class="p">{},</span>
    <span class="s">&quot;path&quot;</span> <span class="p">:</span> <span class="s">&quot;/products&quot;</span><span class="p">,</span>
    <span class="s">&quot;uri&quot;</span> <span class="p">:</span> <span class="s">&quot;https://api.usergrid.com/my_org/my_app/products&quot;</span><span class="p">,</span>
    <span class="s">&quot;entities&quot;</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
        <span class="s">&quot;uuid&quot;</span> <span class="p">:</span> <span class="s">&quot;&lt;product_uuid&gt;&quot;</span><span class="p">,</span>
        <span class="s">&quot;type&quot;</span> <span class="p">:</span> <span class="s">&quot;product&quot;</span><span class="p">,</span>
        <span class="s">&quot;created&quot;</span> <span class="p">:</span> <span class="mi">1395410098517</span><span class="p">,</span>
        <span class="s">&quot;modified&quot;</span> <span class="p">:</span> <span class="mi">1395410098517</span><span class="p">,</span>
        <span class="s">&quot;image&quot;</span> <span class="p">:</span> <span class="s">&quot;http://path.jpg&quot;</span><span class="p">,</span>
        <span class="s">&quot;metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s">&quot;path&quot;</span> <span class="p">:</span> <span class="s">&quot;/products/&lt;product_uuid&gt;&quot;</span>
        <span class="p">},</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;Bouncy Castle&quot;</span><span class="p">,</span>
        <span class="s">&quot;sku&quot;</span> <span class="p">:</span> <span class="s">&quot;35450349822&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">&quot;uuid&quot;</span> <span class="p">:</span> <span class="s">&quot;&lt;product_uuid&gt;&quot;</span><span class="p">,</span>
        <span class="s">&quot;type&quot;</span> <span class="p">:</span> <span class="s">&quot;product&quot;</span><span class="p">,</span>
        <span class="s">&quot;created&quot;</span> <span class="p">:</span> <span class="mi">1395409669686</span><span class="p">,</span>
        <span class="s">&quot;modified&quot;</span> <span class="p">:</span> <span class="mi">1395409669686</span><span class="p">,</span>
        <span class="s">&quot;image&quot;</span> <span class="p">:</span> <span class="s">&quot;http://path.jpg&quot;</span><span class="p">,</span>
        <span class="s">&quot;metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s">&quot;path&quot;</span> <span class="p">:</span> <span class="s">&quot;/products/&lt;product_uuid&gt;&quot;</span>
        <span class="p">},</span>
        <span class="s">&quot;description&quot;</span> <span class="p">:</span> <span class="s">&quot;It makes coffee.&quot;</span><span class="p">,</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;Coffee Maker&quot;</span><span class="p">,</span>
        <span class="s">&quot;sku&quot;</span> <span class="p">:</span> <span class="s">&quot;60723023589&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">&quot;uuid&quot;</span> <span class="p">:</span> <span class="s">&quot;&lt;product_uuid&gt;&quot;</span><span class="p">,</span>
        <span class="s">&quot;type&quot;</span> <span class="p">:</span> <span class="s">&quot;product&quot;</span><span class="p">,</span>
        <span class="s">&quot;created&quot;</span> <span class="p">:</span> <span class="mi">1395407700578</span><span class="p">,</span>
        <span class="s">&quot;modified&quot;</span> <span class="p">:</span> <span class="mi">1395407700578</span><span class="p">,</span>
        <span class="s">&quot;metadata&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s">&quot;path&quot;</span> <span class="p">:</span> <span class="s">&quot;/products/&lt;product_uuid&gt;&quot;</span>
        <span class="p">},</span>
        <span class="s">&quot;name&quot;</span> <span class="p">:</span> <span class="s">&quot;Air Mattress&quot;</span><span class="p">,</span>
        <span class="s">&quot;sku&quot;</span> <span class="p">:</span> <span class="s">&quot;53045985365&quot;</span>
    <span class="p">}],</span>
    <span class="s">&quot;timestamp&quot;</span> <span class="p">:</span> <span class="mi">1396290037640</span><span class="p">,</span>
    <span class="s">&quot;duration&quot;</span> <span class="p">:</span> <span class="mi">91</span><span class="p">,</span>
    <span class="s">&quot;organization&quot;</span> <span class="p">:</span> <span class="s">&quot;my_org&quot;</span><span class="p">,</span>
    <span class="s">&quot;applicationName&quot;</span> <span class="p">:</span> <span class="s">&quot;my_app&quot;</span><span class="p">,</span>
    <span class="s">&quot;count&quot;</span> <span class="p">:</span> <span class="mi">3</span>
<span class="p">}</span>
</pre></div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="optimizing-access.html" class="btn btn-neutral float-right" title="Data Store Best Practices" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../getting-started/using-the-api.html" class="btn btn-neutral" title="Using the API" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2015, Apache Usergrid.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>