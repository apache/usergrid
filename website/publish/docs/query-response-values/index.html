<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Apache Usergrid (incubating) — Query response values</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="keywords" content="Apache Usergrid, Usergrid, BaaS, Backend-as-a-Service">
    <meta name="description" content="An open-source Backend-as-a-Service stack for web & mobile applications, based on RESTful APIs." />
    <meta property="og:title" content="Apache Usergrid" />
    <meta property="og:description" content="An open-source Backend-as-a-Service stack for web & mobile applications, based on RESTful APIs." />
    <!-- Loading Typekit -->
    <script type="text/javascript" src="//use.typekit.net/ddl7izx.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <!-- Loading Bootstrap -->
    <link href="/bootstrap/bootstrap.min.css" rel="stylesheet" type='text/css'>
    <link href="/css/bootflat.css" rel="stylesheet" type='text/css'>
    <link href="/css/usergrid-site.css" rel="stylesheet" type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:200,400,500,300,600,800,700,400italic,600italic,700italic,800italic,300italic" rel="stylesheet" type="text/css">
    <link href="/css/font-awesome.min.css" rel="stylesheet" type='text/css'>

    

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
</head>
<body>

    <header class="navbar navbar-inverse navbar-fixed-top bf-docs-nav secondary" role="banner">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bf-navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/" class="navbar-brand">
                <img id="home-logo" src="/img/apache_usergrid_logo_white_small.png" />
            </a>
        </div>
        <nav class="collapse navbar-collapse bf-navbar-collapse" role="navigation">
            <ul class="nav navbar-nav navbar-right">
                <!--<li class="active"><a href="/docs/"><span class="icns icon-book"></span></a></li>-->
                <li class=""><a href="/community/"><span class="icns icon-group"></span></a></li>
                <li><a href="http://github.com/usergrid/usergrid" target="_blank"><span class="icns icon-github-sign"></span></a></li>
                <!--<li><a href="https://trello.com/b/exQmJIOn/usergrid" target="_blank"><span class="icns icon-trello"></span></a></li>-->
                <li><a href="https://issues.apache.org/jira/browse/USERGRID" target="_blank"><span class="icns icon-bug"></span></a></li>
                <li><a href="http://stackoverflow.com/search?q=usergrid" target="_blank"><span class="icns icon-stackexchange"></span></a></li>
                <li><a href="http://webchat.freenode.net/?channels=%23usergrid&uio=d4" target="_blank"><span class="icns icon-comments"></span></a></li>
                <!--<li><a href="https://groups.google.com/forum/#!forum/usergrid" target="_blank"><span class="icns icon-envelope"></span></a></li>-->
                <li><a href="https://twitter.com/usergrid" target="_blank"><span class="icns icon-twitter"></span></a></li>
            </ul>
        </nav>
    </div>
    </header>


<div class="container bf-docs-container">    
    <div class="row">
        <div class="col-md-3">
            <div class="bf-sidebar hidden-print" role="complementary">
                <ul class="nav nav-list">
                    <li><a href="#">Getting Up & Running Locally</a></li>
                    <li><a href="#"><code>ugc</code> — the Command-line Client</a></li>

                    <li class="nav-header"><span>Concepts</span></li>
                    <li>
                        <a href="/docs/organizations-admins/">Organizations & Admins</a>
                        <ul>
                            <li>
                                <a href="/docs/applications">Applications</a>
                                <ul>
                                    <li><a href="#">Roles & Permissions</a></li>
                                    <li><a href="#">Queues</a></li>
                                    <li><a href="#">Events & Counters</a></li>
                                    <li>
                                        <a href="#">Collections</a>
                                        <ul>
                                            <li><a href="#">Query Language</a></li>
                                            <li><a href="#">Users & Devices</a></li>
                                            <li><a href="#">Groups</a></li>
                                            <li><a href="#">Activities</a></li>
                                            <li><a href="#">Assets</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>


                    <li class="nav-header"><span>Usage</span></li>
                    <li><a href="/docs/rest-api">REST API</a></li>
                    <li><a class="icns-apple" href="#">iOS SDK</a></li>
                    <li><a class="icns-android" href="#">Android SDK</a></li>
                    <li><a class="icns-html5" href="/docs/html5-javascript-sdk">HTML5 / JavaScript SDK</a></li>
                    <li><a class="icns-windows" href="#">Windows 8 / Windows Phone / .net SDK</a></li>
                    <li><a href="/docs/nodejs-module">Node.js module</a></li>
                    <li><a href="/docs/ruby-gem">Ruby gem</a></li>
                    <li><a href="#">Ruby on Rails gem</a></li>
                    <li><a href="#">PHP library</a></li>

                    <li class="nav-header"><span>Internals</span></li>
                    <li><a href="#">Design & Goals</a></li>
                    <li><a href="#">Java Architecture</a></li>
                    <li><a href="#">Cassandra Schema</a></li>
                    <li><a href="#">Contributing</a></li>

                    <li class="nav-header"><span>Operations</span></li>
                    <li><a href="#">Deploying</a></li>
                    <li><a href="#">Monitoring</a></li>
                    <li><a href="#">Upgrading</a></li>
                    <li><a href="#">Security</a></li>
                </ul>
            </div>
        </div>

        <div class="col-md-9 main-article" role="main">
            <div class="page-article">
                <div class="page-header">
                    <h1>Query response values</h1>
                  <small><a href="https://github.com/timanglade/usergrid-site/blob/master/content/docs/query-response-values/">contribute to this article on github</a></small>
                </div>
                <div class="toc">
	
</div>
<p>When you query Apache Usergrid data, the query’s response is formatted in JavaScript Object Notation (JSON). This is a common format used for parameter and return values in REST web services.</p>
<p>So for the following query:</p>
<pre><code>/users?ql=select * where name = ‘Gladys Kravitz’</code></pre>
<p>…you would get a response such as the the one below. The JSON format arranges the data in name/value pairs. Many of the values correspond to specifics of the request, including the request’s HTTP action (GET), the application’s UUID, the request’s parameters (the query string you sent), and so on.</p>
<blockquote>
<p><strong>Note:</strong>Query examples in this content are shown unencoded to make them easier to read. Keep in mind that you might need to encode query strings if you’re sending them as part of URLs, such as when you’re executing them with the cURL tool.</p>
</blockquote>
<p>Here, the query is asking for whole entities in the users collection. Data corresponding to the response is captured in the response’s <code>entities</code> array. The array has one member here, corresponding to the one user found by the query (another kind of query might have found more users). That one member gives the UUID of the entity (user), the entity type, and values for properties such as name, username, email, and so on.</p>
<pre class="highlight"><code class="language-js"><span class="p">{</span>
  <span class="s2">"action"</span> <span class="o">:</span> <span class="s2">"get"</span><span class="p">,</span>
  <span class="s2">"application"</span> <span class="o">:</span> <span class="s2">"8272c9b0-d86a-11e2-92e2-cdf1ce04c1c0"</span><span class="p">,</span>
  <span class="s2">"params"</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">"ql"</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">"select * where name = 'Gladys Kravitz'"</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"path"</span> <span class="o">:</span> <span class="s2">"/users"</span><span class="p">,</span>
  <span class="s2">"uri"</span> <span class="o">:</span> <span class="s2">"http://api.usergrid.com/myorg/myapp/users"</span><span class="p">,</span>
  <span class="s2">"entities"</span> <span class="o">:</span> <span class="p">[</span> <span class="p">{</span>
    <span class="s2">"uuid"</span> <span class="o">:</span> <span class="s2">"d0d7d0ba-e97b-11e2-8cef-411c466c4f2c"</span><span class="p">,</span>
    <span class="s2">"type"</span> <span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
    <span class="s2">"name"</span> <span class="o">:</span> <span class="s2">"Gladys Kravitz"</span><span class="p">,</span>
    <span class="s2">"created"</span> <span class="o">:</span> <span class="mi">1373472876859</span><span class="p">,</span>
    <span class="s2">"modified"</span> <span class="o">:</span> <span class="mi">1373472876859</span><span class="p">,</span>
    <span class="s2">"username"</span> <span class="o">:</span> <span class="s2">"gladys"</span><span class="p">,</span>
    <span class="s2">"email"</span> <span class="o">:</span> <span class="s2">"gladys@example.com"</span><span class="p">,</span>
    <span class="s2">"activated"</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"picture"</span> <span class="o">:</span> <span class="s2">"http://www.gravatar.com/avatar/20c57d4f41cf51f2db44165eb058b3b2"</span><span class="p">,</span>
    <span class="s2">"metadata"</span> <span class="o">:</span> <span class="p">{</span>
      <span class="s2">"path"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c"</span><span class="p">,</span>
      <span class="s2">"sets"</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">"rolenames"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/rolenames"</span><span class="p">,</span>
        <span class="s2">"permissions"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/permissions"</span>
      <span class="p">},</span>
      <span class="s2">"connections"</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">"firstname"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/firstname"</span><span class="p">,</span>
        <span class="s2">"lastname"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/lastname"</span>
      <span class="p">},</span>
      <span class="s2">"collections"</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">"activities"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/activities"</span><span class="p">,</span>
        <span class="s2">"devices"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/devices"</span><span class="p">,</span>
        <span class="s2">"feed"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/feed"</span><span class="p">,</span>
        <span class="s2">"groups"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/groups"</span><span class="p">,</span>
        <span class="s2">"roles"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/roles"</span><span class="p">,</span>
        <span class="s2">"following"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/following"</span><span class="p">,</span>
        <span class="s2">"followers"</span> <span class="o">:</span> <span class="s2">"/users/d0d7d0ba-e97b-11e2-8cef-411c466c4f2c/followers"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="p">],</span>
  <span class="s2">"timestamp"</span> <span class="o">:</span> <span class="mi">1374694196061</span><span class="p">,</span>
  <span class="s2">"duration"</span> <span class="o">:</span> <span class="mi">48</span><span class="p">,</span>
  <span class="s2">"organization"</span> <span class="o">:</span> <span class="s2">"myorg"</span><span class="p">,</span>
  <span class="s2">"applicationName"</span> <span class="o">:</span> <span class="s2">"myapp"</span><span class="p">,</span>
  <span class="s2">"count"</span> <span class="o">:</span> <span class="mi">1</span>
<span class="p">}</span></code></pre>
<p>Compare the preceding example with the following for another kind of query. Imagine the following request string, where the query string is asking for only the values of two of the entity’s properties (username and name):</p>
<pre><code>/users?ql=select username,name where name=’Gladys Kravitz’</code></pre>
<p>In the response JSON from this query, the return value is specified as the property of the <code>list</code> item – here, an array containing only the values of the properties the query asked for, in the order they were requested (username first, then name).</p>
<pre><code>{
  "action" : "get",
  "application" : "8272c9b0-d86a-11e2-92e2-cdf1ce04c1c0",
  "params" : {
    "ql" : [ "select username,name where name='Gladys Kravitz'" ]
  },
  "path" : "/users",
  "uri" : "http://api.usergrid.com/myorg/myapp/users",
  "list" : [ [ "gladys", "Gladys Kravitz" ] ],
  "timestamp" : 1374697463190,
  "duration" : 25,
  "organization" : "myorg",
  "applicationName" : "myapp",
  "count" : 1
}</code></pre>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-9">
            <div class="github-callout">
                <strong>Questions?</strong> Please do <a href="https://groups.google.com/forum/#!forum/usergrid">ask on the mailing-list</a>!<br/>
                <strong>Found an error?</strong> We’d greatly appreciate a pull request about <a href="https://github.com/timanglade/usergrid-site/blob/master/content/docs/query-response-values/">this article on github</a>.</div>
        </div>
    </div>
</div>


<footer class="bf-footer" role="contentinfo">
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                <ul class="nav nav-list">
                    <li class="nav-header"><a href="/">Home</a></li>
                    <li class="nav-header"><a href="/community/">Community</a></li>
                        <!-- <li><a href="/community#events">Events</a></li> -->
                        <li><a href="/community/#mailing-lists">Mailing Lists</a></li>
                        <li><a href="/community/#deployments">Deployments</a></li>
                        <li><a href="/community/#committers">Commiters</a></li>
                    <!-- <li class="nav-header"><a href="#">Docs</a></li> -->
                </ul>
            </div>
            <div class="col-md-2">
                <ul class="nav nav-list">
                    <li class="nav-header"><a href="https://github.com/usergrid/usergrid/" target="_blank">Code</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/stack" target="_blank">Server Stack</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/portal" target="_blank">Admin Portal</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/ugc" target="_blank">ugc command line</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/ios" target="_blank">iOS SDK</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/android" target="_blank">Android SDK</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/html5-javascript" target="_blank">HTML5/JS SDK</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/nodejs" target="_blank">node.js module</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/ruby-on-rails" target="_blank">Ruby on Rails gem</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/ruby" target="_blank">Ruby gem</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/php" target="_blank">PHP SDK</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/java" target="_blank">Java SDK</a></li>
                    <li><a href="https://github.com/usergrid/usergrid/blob/master/sdks/dotnet" target="_blank">.NET / Windows SDK</a></li>
                </ul>
            </div>
            <div class="col-md-2">
                <ul class="nav nav-list">
                    <li class="nav-header">Resources</li>
                        <li><a href="http://github.com/usergrid/usergrid" target="_blank">GitHub Code</a></li>
                        <li><a href="https://issues.apache.org/jira/browse/USERGRID" target="_blank">JIRA Bug Tracker</a></li>
                        <li><a href="http://stackoverflow.com/search?q=usergrid" target="_blank">StackOverflow</a></li>
                        <li><a href="http://webchat.freenode.net/?channels=%23usergrid&uio=d4">IRC</a></li>
                        <li><a href="https://twitter.com/usergrid" target="_blank">Twitter</a></li>
                        <li><a href="http://incubator.apache.org/projects/usergrid.html" target="_blank">Podling Listing</a></li>
                        <li><a href="https://github.com/usergrid/usergrid/blob/master/LICENSE" target="_blank">License</a></li>
                        <li><a href="https://github.com/usergrid/usergrid/blob/master/stack#requirements" target="_blank">Getting Started</a></li>
                        <li><a href="https://github.com/usergrid/usergrid/blob/master/stack#contributing" target="_blank">Contribution Guidelines</a></li>
                </ul>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-4">
                <a class="twitter-timeline" href="https://twitter.com/search?q=%23usergrid" data-widget-id="401499136807038976"  data-related="usergrid" height="400px" style="overflow:hidden">Tweets about "usergrid"</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </div> 
        <!--
            <div class="col-md-4">
                <div class="input-group form-search">
                    <input type="text" class="form-control search-query">
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-primary" data-type="last">Search</button>
                    </span>
                </div>
            </div> -->
        </div> 
        <div class="row">
            <div id="copyright">
                <img src="/img/egg-logo.png" /><br/><br/>
                <p>Apache Usergrid is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the name of Apache TLP sponsor. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
                <p>Copyright © 2013 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.<br>
                Apache and the Apache feather logos are trademarks of The Apache Software Foundation.</p>
                <p class="credits">Site designed & assembled with love by <a href="https://github.com/ryuneeee">@ryuneeee</a> + <a href="https://github.com/realbeast">@realbeast</a> + <a href="https://twitter.com/timanglade">@timanglade</a>.</p>
            </div>
        </div>
    </div>
</footer>

<script type="text/javascript" src="/js/head.js"></script>
<script type="text/javascript">
    head.js("/js/jquery-1.10.1.min.js", "/js/bootstrap.min.js", "/js/usergrid-site.js");
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45815079-1', 'apache.org');
  ga('send', 'pageview');

</script>


</body>
</html>